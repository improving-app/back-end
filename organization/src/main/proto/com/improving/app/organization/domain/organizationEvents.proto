syntax = "proto3";
package com.improving.app.organization.domain;

import "scalapb/scalapb.proto";

import "com/improving/app/common/domain/ids.proto";
import "com/improving/app/organization/domain/organizationData.proto";

message OrganizationEvent {
  oneof sealed_value {
    OrganizationEstablished organization_established = 1;
    OrganizationActivated organization_activated = 2;
    OrganizationSuspended organization_suspended = 3;
    OrganizationTerminated organization_terminated = 4;
    OrganizationInfoEdited organization_info_edited = 5;
    MembersAddedToOrganization members_added_to_organization = 6;
    MembersRemovedFromOrganization members_removed_from_organization = 7;
    OwnersAddedToOrganization owners_added_to_organization = 8;
    OwnersRemovedFromOrganization owners_removed_from_organization = 9;
  }
}

message OrganizationEstablished {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  com.improving.app.organization.domain.OrganizationInfo organization_info = 2;
  com.improving.app.organization.domain.OrganizationMetaInfo meta_info = 3;
}

message OrganizationActivated {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  com.improving.app.organization.domain.OrganizationMetaInfo meta_info = 2;
}

message OrganizationSuspended {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  com.improving.app.organization.domain.OrganizationMetaInfo meta_info = 2;
}

message OrganizationTerminated {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
}

message OrganizationInfoEdited {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  OrganizationMetaInfo meta_info = 2;
  OrganizationInfo old_info = 3;
  OrganizationInfo new_info = 4;
}

message MembersAddedToOrganization {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  OrganizationMetaInfo meta_info = 2;
  repeated com.improving.app.common.domain.MemberId members_added = 3;
}

message MembersRemovedFromOrganization {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  OrganizationMetaInfo meta_info = 2;
  repeated com.improving.app.common.domain.MemberId members_removed = 3;
}

message OwnersAddedToOrganization {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  OrganizationMetaInfo meta_info = 2;
  repeated com.improving.app.common.domain.MemberId owners_added = 3;
}

message OwnersRemovedFromOrganization {
  option (scalapb.message).extends = "com.improving.app.common.serialize.PBMsgSerializable";
  com.improving.app.common.domain.OrganizationId organization_id = 1;
  OrganizationMetaInfo meta_info = 2;
  repeated com.improving.app.common.domain.MemberId owners_removed = 3;
}
